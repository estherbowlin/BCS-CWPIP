// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/dijit/util/busyIndicator":function(){define("dijit/registry dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-construct dojox/widget/Standby require".split(" "),function(t,k,l,p,n,q,v){var g={_defaultStandbyParams:{image:v.toUrl("../images/loading-throb.gif"),color:"#fff",opacity:.75,duration:200},create:function(a){if(a=this._normalizeParams(a))return a=new q(g._toStandbyParams(a)),n.place(a.domNode,l.doc.body),g._createHandle(a)},_normalizeParams:function(a){if(a){if(a.target)return a;
if("string"===typeof a){var e=t.byId(a);a=e?e.domNode:p.byId(a)}else a=a.domNode?a.domNode:p.byId(a);if(a)return{target:a}}},_toStandbyParams:function(a){a.imageUrl&&(a.image=a.imageUrl);a.backgroundColor&&(a.color=a.backgroundColor);a.backgroundOpacity&&(a.opacity=a.backgroundOpacity);a.fadeDuration&&(a.duration=a.fadeDuration);return k.mixin({},g._defaultStandbyParams,a)},_createHandle:function(a){return{show:function(){a&&a.show()},hide:function(){a&&a.hide()},destroy:function(){a&&(a.destroy(),
a=null)}}}};return g})},"dojox/widget/Standby":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/event dojo/_base/sniff dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/window dojo/_base/window dojo/_base/fx dojo/fx dijit/_Widget dijit/_TemplatedMixin dijit/registry".split(" "),function(t,k,l,p,n,q,v,g,a,e,z,m,w,x,A,B,y){t.experimental("dojox.widget.Standby");return k("dojox.widget.Standby",[A,B],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),
imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:.75,templateString:'\x3cdiv\x3e\x3cdiv style\x3d"display: none; opacity: 0; z-index: 9999; position: absolute; cursor:wait;" dojoAttachPoint\x3d"_underlayNode"\x3e\x3c/div\x3e\x3cimg src\x3d"${image}" style\x3d"opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px; left: 0px; cursor:wait;" dojoAttachPoint\x3d"_imageNode"\x3e\x3cdiv style\x3d"opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px;" dojoAttachPoint\x3d"_textNode"\x3e\x3c/div\x3e\x3c/div\x3e',
_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:!1,_resizeCheck:null,_started:!1,_parent:null,startup:function(b){if(!this._started){if("string"===typeof this.target){var c=y.byId(this.target);this.target=c?c.domNode:q.byId(this.target)}this.text&&(this._textNode.innerHTML=this.text);"image"===this.centerIndicator?(this._centerNode=this._imageNode,v.set(this._imageNode,"src",this.image),v.set(this._imageNode,"alt",this.imageText)):this._centerNode=this._textNode;e.set(this._underlayNode,
{display:"none",backgroundColor:this.color});e.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");this.domNode.parentNode&&this.domNode.parentNode!=m.body()&&m.body().appendChild(this.domNode);7==n("ie")&&(this._ieFixNode=g.create("div"),e.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"}),m.body().appendChild(this._ieFixNode));this.inherited(arguments)}},show:function(){this._displayed||(this._anim&&(this._anim.stop(),delete this._anim),
this._displayed=!0,this._size(),this._disableOverflow(),this._fadeIn())},hide:function(){if(this._displayed)try{this._anim&&(this._anim.stop(),delete this._anim),this._size()}catch(b){console.error(b)}finally{this._fadeOut(),this._displayed=!1,null!==this._resizeCheck&&(clearInterval(this._resizeCheck),this._resizeCheck=null)}},isVisible:function(){return this._displayed},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=!1;this._resizeCheck&&clearInterval(this._resizeCheck);
e.set(this._centerNode,"display","none");e.set(this._underlayNode,"display","none");7==n("ie")&&this._ieFixNode&&(m.body().removeChild(this._ieFixNode),delete this._ieFixNode);this._anim&&(this._anim.stop(),delete this._anim);this._centerNode=this._textNode=this._imageNode=this.target=null;this.inherited(arguments)},_size:function(){if(this._displayed){var b=v.get(m.body(),"dir");b&&(b=b.toLowerCase());var c,r=this._scrollerWidths(),f=this.target,h=e.get(this._centerNode,"display");e.set(this._centerNode,
"display","block");var d=a.position(f,!0);if(f===m.body()||f===m.doc)d=z.getBox(),d.x=d.l,d.y=d.t;var k=a.getMarginBox(this._centerNode);e.set(this._centerNode,"display",h);this._ieFixNode&&(c=-this._ieFixNode.offsetTop/1E3,d.x=Math.floor((d.x+.9)/c),d.y=Math.floor((d.y+.9)/c),d.w=Math.floor((d.w+.9)/c),d.h=Math.floor((d.h+.9)/c));var g=e.get(f,"zIndex"),l=h=g;if("auto"===this.zIndex)if("auto"!=g)h=parseInt(h,10),l=parseInt(l,10);else{var u=f;if(u&&u!==m.body()&&u!==m.doc)for(u=f.parentNode,c=-1E5;u&&
u!==m.body();)(g=e.get(u,"zIndex"))&&"auto"!==g&&(g=parseInt(g,10),c<g&&(c=g,h=g+1,l=g+1)),u=u.parentNode}else h=parseInt(this.zIndex,10),l=parseInt(this.zIndex,10);e.set(this._centerNode,"zIndex",l);e.set(this._underlayNode,"zIndex",h);if((h=f.parentNode)&&h!==m.body()&&f!==m.body()&&f!==m.doc){u=d.h;l=d.w;f=a.position(h,!0);this._ieFixNode&&(c=-this._ieFixNode.offsetTop/1E3,f.x=Math.floor((f.x+.9)/c),f.y=Math.floor((f.y+.9)/c),f.w=Math.floor((f.w+.9)/c),f.h=Math.floor((f.h+.9)/c));f.w-=h.scrollHeight>
h.clientHeight&&0<h.clientHeight?r.v:0;f.h-=h.scrollWidth>h.clientWidth&&0<h.clientWidth?r.h:0;"rtl"===b&&(n("opera")?(d.x+=h.scrollHeight>h.clientHeight&&0<h.clientHeight?r.v:0,f.x+=h.scrollHeight>h.clientHeight&&0<h.clientHeight?r.v:0):n("ie")?f.x+=h.scrollHeight>h.clientHeight&&0<h.clientHeight?r.v:0:n("webkit"));f.w<d.w&&(d.w-=f.w);f.h<d.h&&(d.h-=f.h);var p=f.y,q=f.y+f.h,t=d.y,w=d.y+u,b=f.x;c=f.x+f.w;var g=d.x,x=d.x+l;if(w>p&&t<p)d.y=f.y,u-=p-t,d.h=u<f.h?u:d.h-2*(h.scrollWidth>h.clientWidth&&
0<h.clientWidth?r.h:0);else if(t<q&&w>q)d.h=q-t;else if(w<=p||t>=q)d.h=0;if(x>b&&g<b)d.x=f.x,l-=b-g,d.w=l<f.w?l:d.w-2*(h.scrollHeight>h.clientHeight&&0<h.clientHeight?r.w:0);else if(g<c&&x>c)d.w=c-g;else if(x<=b||g>=c)d.w=0}0<d.h&&0<d.w?(e.set(this._underlayNode,{display:"block",width:d.w+"px",height:d.h+"px",top:d.y+"px",left:d.x+"px"}),r=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"],this._cloneStyles(r),n("ie")||(r="MozBorderRadius MozBorderRadiusTopleft MozBorderRadiusTopright MozBorderRadiusBottomleft MozBorderRadiusBottomright WebkitBorderRadius WebkitBorderTopLeftRadius WebkitBorderTopRightRadius WebkitBorderBottomLeftRadius WebkitBorderBottomRightRadius".split(" "),
this._cloneStyles(r,this)),r=d.h/2-k.h/2,h=d.w/2-k.w/2,d.h>=k.h&&d.w>=k.w?e.set(this._centerNode,{top:r+d.y+"px",left:h+d.x+"px",display:"block"}):e.set(this._centerNode,"display","none")):(e.set(this._underlayNode,"display","none"),e.set(this._centerNode,"display","none"));if(null===this._resizeCheck){var y=this;this._resizeCheck=setInterval(function(){y._size()},100)}}},_cloneStyles:function(b){l.forEach(b,function(c){e.set(this._underlayNode,c,e.get(this.target,c))},this)},_fadeIn:function(){var b=
this,c=w.animateProperty({duration:b.duration,node:b._underlayNode,properties:{opacity:{start:0,end:b.opacity}}}),a=w.animateProperty({duration:b.duration,node:b._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){b.onShow();delete b._anim}});this._anim=x.combine([c,a]);this._anim.play()},_fadeOut:function(){var b=this,c=w.animateProperty({duration:b.duration,node:b._underlayNode,properties:{opacity:{start:b.opacity,end:0}},onEnd:function(){e.set(this.node,{display:"none",zIndex:"-1000"})}}),
a=w.animateProperty({duration:b.duration,node:b._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){e.set(this.node,{display:"none",zIndex:"-1000"});b.onHide();b._enableOverflow();delete b._anim}});this._anim=x.combine([c,a]);this._anim.play()},_ignore:function(b){b&&p.stop(b)},_scrollerWidths:function(){var b=g.create("div");e.set(b,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});var c=g.create("div");
e.set(c,{width:"200px",height:"10px"});b.appendChild(c);m.body().appendChild(b);c=a.getContentBox(b);e.set(b,"overflow","scroll");var r=a.getContentBox(b);m.body().removeChild(b);return{v:c.w-r.w,h:c.h-r.h}},_setTextAttr:function(b){this.text=this._textNode.innerHTML=b},_setColorAttr:function(b){e.set(this._underlayNode,"backgroundColor",b);this.color=b},_setImageTextAttr:function(b){v.set(this._imageNode,"alt",b);this.imageText=b},_setImageAttr:function(b){v.set(this._imageNode,"src",b);this.image=
b},_setCenterIndicatorAttr:function(b){this.centerIndicator=b;"image"===b?(this._centerNode=this._imageNode,e.set(this._textNode,"display","none")):(this._centerNode=this._textNode,e.set(this._imageNode,"display","none"))},_setTargetAttr:function(b){if("string"===typeof b){var c=y.byId(b);this._set("target",c?c.domNode:q.byId(b))}else this._set("target",b)},_disableOverflow:function(){if(this.target===m.body()||this.target===m.doc){this._overflowDisabled=!0;var b=m.body();this._oldOverflow=b.style&&
b.style.overflow?e.get(b,"overflow"):"";if(n("ie")&&!n("quirks")){if(b.parentNode&&b.parentNode.style&&b.parentNode.style.overflow)this._oldBodyParentOverflow=b.parentNode.style.overflow;else try{this._oldBodyParentOverflow=e.get(b.parentNode,"overflow")}catch(c){this._oldBodyParentOverflow="scroll"}e.set(b.parentNode,"overflow","hidden")}e.set(b,"overflow","hidden")}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var b=m.body();n("ie")&&!n("quirks")&&(b.parentNode.style.overflow=
this._oldBodyParentOverflow,delete this._oldBodyParentOverflow);e.set(b,"overflow",this._oldOverflow);if(n("webkit")){var c=g.create("div",{style:{height:"2px"}});b.appendChild(c);setTimeout(function(){b.removeChild(c)},0)}delete this._oldOverflow}}})})},"widgets/Visibility/js/PrivilegeUtil":function(){define("dojo/_base/declare dojo/_base/lang jimu/portalUtils jimu/portalUrlUtils jimu/Role esri/lang".split(" "),function(t,k,l,p,n,q){var v=null,g=t([],{userRole:null,userPortalUrl:null,portalAnalysis:null,
portalSelf:null,portalUrl:null,_isServiceAvailable:!1,constructor:function(a){this.portalUrl=a},_clearLoadedInfo:function(){this.portalUrl=this.portalSelf=this.userPortalUrl=this.userRole=null},loadPrivileges:function(a){this.portalSelf=this.userPortalUrl=this.userRole=null;this._isServiceAvailable=!1;a&&(this.portalUrl=a);a=l.getPortal(this.portalUrl);return a.haveSignIn()?this._loadUserInfo(a):this._signIn(a)},getPortalUrl:function(a){return a?p.getStandardPortalUrl(a):this.portalUrl?p.getStandardPortalUrl(this.portalUrl):
p.getStandardPortalUrl(this.appConfig.portalUrl)},_privilegeLoaded:function(){return null!==this.portalSelf},getUserPortal:function(){return this._privilegeLoaded()?this.getPortalUrl(this.userPortalUrl):null},_signIn:function(a){return a.loadSelfInfo().then(k.hitch(this,function(a){var e=l.getPortal(a.portalHostname);return null===e?!1:e.signIn().then(k.hitch(this,function(a){return this._loadUserInfo(e,a)}),function(){return!1})}),function(){return!1})},_loadUserInfo:function(a){return a.loadSelfInfo().then(k.hitch(this,
function(a){this.userPortalUrl=a.urlKey?a.urlKey+"."+a.customBaseUrl:this.portalUrl;return a&&a.user?(this.userRole=new n({id:a.user.roleId?a.user.roleId:a.user.role,role:a.user.role}),a.user.privileges&&this.userRole.setPrivileges(a.user.privileges),this.portalSelf=a,!0):!1}),function(){return!1})},_canPerformElevationAnalysis:function(){this.portalSelf&&(this._isServiceAvailable=q.isDefined(this.portalSelf.helperServices.elevation));return this.canPerformAnalysis()&&this._isServiceAvailable},canPerformAnalysis:function(){var a=
!1;this.userRole&&(this.userRole.isAdmin()||this.userRole.isPublisher())?a=!0:this.userRole&&this.userRole.isCustom()&&(a=this.userRole.canCreateItem()&&this.userRole.canPublishFeatures()&&this.userRole.canUseSpatialAnalysis());this.portalSelf&&this.portalSelf.isPortal&&(a=a&&q.isDefined(this.portalSelf.helperServices.analysis)&&q.isDefined(this.portalSelf.helperServices.analysis.url));return a}});g.getInstance=function(a){null===v&&(v=new g(a));return v};return g})},"widgets/Visibility/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html",
"dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/Visibility/setting/Setting.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"url-section"\x3e\r\n    \x3cdiv class\x3d"label jimu-float-leading" title\x3d"${nls.portalURL}"\x3e${nls.portalURL}\x3c/div\x3e\r\n    \x3cdiv class\x3d"service-browser jimu-float-trailing"\x3e\r\n      \x3ctable cellpadding\x3d"0" cellspacing\x3d"0" style\x3d"width:100%;border-collapse:collapse;"\x3e\r\n        \x3ctbody\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd style\x3d"width:auto;"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"urlTextBox" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-props\x3d\'required:true, spellcheck:false, regExp: dojox.validate.regexp.url\'\r\n                style\x3d"width:100%;height:35px;padding-top:0px;"\x3e\x3c/div\x3e\r\n            \x3c/td\x3e\r\n            \x3ctd style\x3d"width:75px;"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"setButton" class\x3d"jimu-btn jimu-float-trailing"\x3e${nls.setTask}\x3c/div\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"error-section hide-section" data-dojo-attach-point\x3d"errorNode"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTDijitWrapper" style\x3d"padding: 5px 0px 5px 0px;"\x3e\r\n      \x3cinput class\x3d"switch-toggle" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"angleUnits" checked\x3d"false" /\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultMilsForAnglesLabel}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultObserverHeightLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n      \x3cdiv style\x3d"width: 100%"\x3e\r\n        \x3cselect style\x3d"width: 250px" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"observerHeightUnit"\x3e\r\n        \x3c/select\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultObservableDistanceLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n      \x3cdiv style\x3d"width: 100%"\x3e\r\n        \x3cselect style\x3d"width: 250px" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"observableDistanceUnit"\x3e\r\n        \x3c/select\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"opLayerlabelSettings"\x3e${nls.selectOperationalLayerLabel}\x3c/div\x3e\r\n    \x3cselect class\x3d"opLayerSelectSettings" data-dojo-attach-point\x3d"opLayerList" aria-label\x3d"selectOpLayerLabel"\x3e\x3c/select\x3e\r\n    \x3cdiv title\x3d"${nls.helpIconTooltip}" class\x3d"jimu-icon helpBtn" data-dojo-attach-point\x3d"helpBtn" aria-label\x3d"${nls.helpIconTooltip}" \r\n      tabindex\x3d"0" role\x3d"tooltip"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Visibility/setting/css/style.css":'.jimu-widget-visibility-setting {height: 100%; overflow: hidden; font-size: 14px;}.jimu-widget-visibility-setting .dijitReset .dijitInputInner {padding-top: 6px !important;}.jimu-popup .title-label {font-size: inherit;}.jimu-widget-visibility-setting .section.common-property {overflow: hidden;}.jimu-widget-visibility-setting .url-section {position: relative; height: 40px;}.jimu-widget-visibility-setting .url-section .label {left: 0; top: 5px; height: 36px; width: 100%; position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .service-browser {width: 100%; padding-bottom: 10px;}.jimu-widget-visibility-setting .error-section {color: red; padding-left: 4px;}.jimu-rtl .jimu-widget-visibility-setting .error-section {padding-right: 14px;}.jimu-widget-visibility-setting .hide-section {visibility: hidden;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-detail {overflow: hidden; position: relative; height: 100%;}.jimu-widget-visibility-setting .nav-pane {width: 250px; height: 100%; overflow-x: hidden; overflow-y: auto;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleClosed,.jimu-widget-visibility-setting .nav-pane .nav-pane-node {background-color: #fafafc; border: 1px solid #d2dae2; border-radius: 4px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleClosed,.jimu-widget-visibility-setting .nav-pane .nav-pane-node,.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen {margin-top: 10px; height: 35px;}.jimu-widget-visibility-setting .nav-pane .nav-pane-node {padding: 7px; vertical-align: middle;}.jimu-widget-visibility-setting .nav-pane .link-action-node {cursor: pointer;}.jimu-widget-visibility-setting .nav-pane .link-action-node span {white-space: nowrap;}.jimu-widget-visibility-setting .nav-pane .param-node {padding: 5px 5px 5px 15px; border-top: 1px solid #d2dae2;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneContentInner {padding: 0;}.jimu-widget-visibility-setting .link-action-node.jimu-state-active {background-color: #e3ecf2; border-left: 3px solid #15A4FA; padding-left: 12px;}.jimu-widget-visibility-setting .nav-pane .dijitTitlePaneContentOuter {border-radius: 0 0 4px 4px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen {background-color: #6f7e95; color: #fff; border: 1px solid #6f7e95; border-radius: 4px 4px 0 0; background-image: linear-gradient(#6f7e95 0%, #6f7e95 100%);}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleFocus {margin-top: 7px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen .dijitArrowNode {background-image: url("images/focusArrow.png");}.jimu-widget-visibility-setting .setting-pane {overflow-x: hidden; overflow-y: auto; height: 100%; width: 685px;}.jimu-widget-visibility-setting .field {position: relative; overflow: hidden;}.jimu-widget-visibility-setting .field label {width: 115px; display: inline-block; overflow: hidden; text-overflow: ellipsis;}.jimu-widget-visibility-setting .common-property .field {height: 36px; margin-top: 10px;}.jimu-widget-visibility-setting .common-property .field label {position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .common-property .field label.visibleLabel {position: relative; top: 20%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .common-property .jimu-checkbox {width: 115px;}.jimu-widget-visibility-setting .common-property .jimu-checkbox.visibleCheck {width: 20px; margin-left: 0;}.jimu-widget-visibility-setting .common-property .field .common-input {position: absolute; left: 115px; right: 10px; top: 0px; bottom: 0px; width: auto}.jimu-widget-visibility-setting .special-property .field {height: 20px; margin-top: 5px;}.jimu-widget-visibility-setting .special-property .jimu-gp-editor-base {display: block;}.jimu-widget-visibility-setting .special-property .input-label {margin: 10px 0px; display: inline-block;}.jimu-widget-visibility-setting .special-property .change-editor {margin: 10px; text-decoration: underline; cursor: pointer;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-symbol-chooser {margin-left: 100px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-symbol-chooser {margin-left: 0; margin-right: 100px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-renderer-chooser .jimu-symbol-chooser {margin-left: 50px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-renderer-chooser .jimu-symbol-chooser {margin-left: 0; margin-right: 50px;}.jimu-widget-visibility-setting .jimu-widget-visibility-setting-layer-order {width: 100%; height: auto; margin-top: 10px;}.jimu-widget-visibility-setting .layer-node {overflow: hidden; margin-top: 10px;}.jimu-widget-visibility-setting .layer-node .order {float: left;}.jimu-widget-visibility-setting .layer-node .label {float: left;}.jimu-widget-visibility-setting .layer-node .order-btn {cursor: pointer;}.jimu-widget-visibility-setting .layer-node:first-child .up {color: rgba(0, 0, 0, 0.4);}.jimu-widget-visibility-setting .layer-node:last-child .down {color: rgba(0, 0, 0, 0.4);}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options {width: 100%; height: auto; margin-top: 10px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field {margin-top: 10px; height: 36px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field label {width: auto;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-label {position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-url {position: absolute; left: 115px; right: 10px; top: 0px; bottom: 0px; width: auto;}.jimu-gp-editor-chooser .editor-node {display: inline-block; width: 165px; margin-left: 15px;}.jimu-gp-editor-chooser .editor-node .node-box {width: 100%; height: 105px; line-height: 105px; border: 1px solid #D4DCE3; text-align: center; position: relative; cursor: pointer;}.jimu-gp-editor-chooser img {vertical-align: middle;}.jimu-gp-editor-chooser .editor-node .node-label {display: inline-block; margin-top: 10px; width: 100%; text-align: center; overflow: hidden;}.jimu-gp-editor-chooser .editor-node.jimu-state-selected .node-box {border: 2px solid #15A4FA;}.jimu-rtl .jimu-widget-visibility-setting .url-section .label {right: 0;}.jimu-rtl .jimu-widget-visibility-setting .common-property .field .common-input {right: 115px; left: 10px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-url {left: 10px; right: 115px;}.jimu-widget-visibility-setting .param-node {border-left: 0; border-right: 0; position: relative;}.jimu-widget-visibility-setting .param-node .action-group {position: absolute; width: 5px; height: 20px; left: 5px; top: 5px; background-image: none; background-repeat: no-repeat; background-position: -22px -101px; cursor: move;}.jimu-widget-visibility-setting .dojoDndItemOver .action-group {background-image: url(images/ago_sprite.png);}.jimu-widget-visibility-setting .dojoDndItemOver .action-group:hover {background-position: -38px -101px;}.jimu-rtl .jimu-widget-visibility-setting .param-node .action-group {left: auto; right: 5px;}.dojoDndAvatarHeader {display: none;}.dojoDndAvatarItem {display: block;}.jimu-widget-visibility-setting .switch-toggle-group {padding: 5px;}.jimu-widget-visibility-setting .switch-toggle-group .checkbox-inline {padding-left: 36px; vertical-align: top;}.jimu-widget-visibility-setting .switch-toggle-group .switch-toggle.dijitCheckBox {margin-left: -36px;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {height: 16px; width: 28px; border: 0 none; background: #adadad; position: relative; float: left; cursor: pointer; -moz-border-radius: 10px; -webkit-border-radius: 10px; border-radius: 10px;}.jimu-rtl .jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {float: left;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox:before {content: ""; background: #f8f8f8; position: absolute; padding: 0; height: 12px; width: 12px; left: auto; right: 14px; top: 2px; z-index: 1; -webkit-transition: right 0.3s; -moz-transition: right 0.3s; -o-transition: right 0.3s; transition: right 0.3s; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox input {width: 100%; height: 100%; position: absolute; left: 0; z-index: 2;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox.dijitCheckBoxChecked {background: #50ad4e;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox.dijitCheckBoxChecked:before {right: 2px;}.jimu-widget-visibility-setting .esriCTWrapper {width: 100%; overflow: hidden; padding: 5px 5px;}.jimu-widget-visibility-setting .esriCTLabel {width: 30%; padding: 5px 10px 5px 0px; word-break: break-word; float: left; font-size: 14px;}.jimu-widget-visibility-setting .esriCTDijitWrapper {width: 70%; float: right;}.jimu-rtl .jimu-widget-visibility-setting .esriCTLabel {float: right;}.jimu-rtl .jimu-widget-visibility-setting .esriCTDijitWrapper {float: left;}.jimu-rtl .jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {float: right}.jimu-widget-visibility-setting .opLayerSelectSettings {height: 30px; color: #7d7d7d; padding: 0 5px 0 5px; font-size: 13px; width: 56%; font-family: \'Avenir Medium\'; margin: 7px 0px 20px 0px;}.jimu-widget-visibility-setting .helpBtn {background: url(./images/help_black.png); background-repeat: no-repeat; background-color: transparent; width: 16px; height: 16px; vertical-align: middle; margin-left: 5px;}.jimu-rtl .jimu-widget-visibility-setting .helpBtn {margin-right: 5px;}.jimu-widget-visibility-setting .helpBtn:hover {background: url(./images/help_black_hover.png);}',
"*now":function(t){t(['dojo/i18n!*preload*widgets/Visibility/setting/nls/Setting*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on dojo/dom-attr dojo/query dojo/keys dojo/Deferred dijit/_WidgetsInTemplateMixin jimu/BaseWidgetSetting jimu/dijit/Message esri/dijit/util/busyIndicator ../js/PrivilegeUtil dojo/_base/array jimu/LayerStructure jimu/utils dojo/_base/kernel dojo/dom-style dijit/form/ValidationTextBox".split(" "),function(t,k,l,p,n,q,v,g,a,e,z,m,w,x,A,B,y,b){return t([e,a],{baseClass:"jimu-widget-visibility-setting",hasError:!1,postMixInProperties:function(){this.inherited(arguments);
k.mixin(this.nls,window.jimuNls.common);k.mixin(this.nls,window.jimuNls.units)},postCreate:function(){window.isRTL&&"ar"===y.locale?b.set(this.helpBtn,"transform","rotateY(180deg)"):b.set(this.helpBtn,"transform","");var a=[],e;x.forEach("meters kilometers miles feet yards nauticalMiles".split(" "),k.hitch(this,function(c){e={value:c,label:this.nls.units[c]};a.push(e)}));this.observerHeightUnit.addOption(a);this.observableDistanceUnit.addOption(k.clone(a));this.observerHeightUnit.set("value","meters");
this.observableDistanceUnit.set("value","kilometers");this._populateLayerSelect(this._getAllMapLayers(),this.opLayerList);this._setSelectedOption(this.opLayerList,this.config.operationalLayer?this.config.operationalLayer.name:"")},startup:function(){this.inherited(arguments);this.own(p(this.urlTextBox,"keypress",k.hitch(this,this.urlChanged)));this.own(p(this.setButton,"click",k.hitch(this,this.setButtonClicked)));this.setConfig(this.config);this.busyIndicator=m.create({target:this.domNode.parentNode,
backgroundOpacity:0});this.config.operationalLayer||(this.config.operationalLayer={});this.config.operationalLayer.hasOwnProperty("name")||""!==this.config.operationalLayer.name||(this.opLayerList.value="");this._startValidationProcess()},urlChanged:function(a){this._diasableOk();l.remove(this.setButton,"jimu-state-disabled");a.charOrCode===v.ENTER&&this._startValidationProcess()},setButtonClicked:function(){this._startValidationProcess()},setConfig:function(a){var b=this.appConfig.portalUrl;a.portalUrl&&
(b=a.portalUrl);this.urlTextBox.set("value",b,!1);a.hasOwnProperty("defaultObserverHeightUnit")&&this.observerHeightUnit.set("value",a.defaultObserverHeightUnit);a.hasOwnProperty("defaultObservableDistanceUnit")&&this.observableDistanceUnit.set("value",a.defaultObservableDistanceUnit);a.hasOwnProperty("defaultAngleUnits")&&this.angleUnits.setValue(a.defaultAngleUnits)},getConfig:function(){return this.hasError?!1:{portalUrl:this.urlTextBox.get("value"),defaultObserverHeightUnit:this.observerHeightUnit.get("value"),
defaultObservableDistanceUnit:this.observableDistanceUnit.get("value"),defaultAngleUnits:this.angleUnits.getValue(),operationalLayer:{name:this.opLayerList.value}}},validateUrl:function(a){var b=new g;this.privilegeUtil=w.getInstance(a);this.privilegeUtil.loadPrivileges(a).then(k.hitch(this,function(){b.resolve(this._validatePrivileges())}),k.hitch(this,function(){this._showError();b.reject()}));return b.promise},_configurePortalURL:function(a){var b=new g;a&&this.validateUrl(a).then(k.hitch(this,
function(a){a?b.resolve():b.reject()}),k.hitch(this,function(){b.reject()}));return b.promise},_startValidationProcess:function(){if(this.urlTextBox.isValid()){this.busyIndicator.show();var a=this.urlTextBox.get("value");this._configurePortalURL(a).then(k.hitch(this,function(){l.add(this.setButton,"jimu-state-disabled");l.add(this.errorNode,"hide-section");this._enableOk();this.busyIndicator.hide()}),k.hitch(this,function(){this.busyIndicator.hide();this._showError(this.nls.portalURLError)}))}else this.busyIndicator.hide(),
this._showError(this.nls.portalURLError)},_validatePrivileges:function(){return this.privilegeUtil._canPerformElevationAnalysis()?!0:!1},_showError:function(a){a||(a=this.nls.privilegeError,this.privilegeUtil._isServiceAvailable||(a=this.nls.noServiceError));new z({message:a});n.set(this.errorNode,"innerHTML",a);l.remove(this.errorNode,"hide-section");this._diasableOk()},_enableOk:function(){var a=q(".button-container")[0];a&&a.children&&3<a.children.length&&(l.remove(a.children[0],"jimu-state-disabled"),
this.hasError=!1)},_diasableOk:function(){var a=q(".button-container")[0];a&&a.children&&3<a.children.length&&(l.add(a.children[0],"jimu-state-disabled"),this.hasError=!0)},_populateLayerSelect:function(a,b){var c=document.createElement("option");c.value="";c.innerHTML="";c.selected=!0;b.appendChild(c);x.forEach(a,k.hitch(this,function(a){if(a.url&&"Feature Layer"===a.type&&a.capabilities.includes("Create,Delete,Query,Update,Editing")){var c=document.createElement("option");c.value=a.name;c.innerHTML=
B.sanitizeHTML(a.name);c.selected=!1;b.appendChild(c)}}))},_getAllMapLayers:function(){var a=[];A.getInstance().traversal(function(b){"undefined"!==typeof b._layerInfo.layerObject.type&&-1===b._layerInfo.layerObject.type.indexOf("tile")&&"esriGeometryPolygon"===b._layerInfo.layerObject.geometryType&&a.push(b._layerInfo.layerObject)});return a},_setSelectedOption:function(a,b){for(var c=0;c<a.options.length;c++)if(a.options[c].value===b){a.selectedIndex=c;break}}})});